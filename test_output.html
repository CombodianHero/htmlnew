<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Engineers Babu | HTML Viewer</title>

<style>
/* ================= THEME VARIABLES ================= */
:root{
  /* üåô DARK THEME */
  --page-bg:#0f1117;
  --card-bg:#161b22;
  --inner-bg:#1f2633;
  --text:#e5e7eb;
  --muted:#9ca3af;
  --border:rgba(255,255,255,0.08);
  --shadow:none;
  --primary:#2563eb;
}

.light{
  /* ‚òÄÔ∏è LIGHT THEME */
  --page-bg:#f4f6fb;
  --card-bg:#ffffff;
  --inner-bg:#f1f4fb;
  --text:#1f2937;
  --muted:#6b7280;
  --border:rgba(0,0,0,0.06);
  --shadow:0 8px 24px rgba(0,0,0,0.05);
  --primary:#2563eb;
}

/* ================= BASE ================= */
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
}

body{
  background:var(--page-bg);
  color:var(--text);
  transition:background .3s,color .3s;
  overflow-x:hidden;
}

/* Disable text selection and right click */
body {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* ================= HEADER ================= */
.main-header{
  position:relative;
  display:flex;
  justify-content:flex-end;
  align-items:center;
  padding:18px 20px;
  background:var(--card-bg);
  border-bottom:1px solid var(--border);
}

.title-box{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  text-align:center;
}

.title-box h1{
  font-size:42px;
  font-weight:800;
  background:linear-gradient(90deg,#00f5ff,#E50914,#ffcc00);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  letter-spacing:2px;
}

.title-box span{
  font-size:13px;
  color:var(--muted);
  letter-spacing:3px;
}

.toggle{
  cursor:pointer;
  padding:8px 14px;
  border-radius:20px;
  background:var(--inner-bg);
  border:1px solid var(--border);
}

/* ===== GRADIENT LINE ===== */
.gradient-bar{
  height:6px;
  background:linear-gradient(
    90deg,
    #00f5ff,
    #7a00ff,
    #E50914,
    #ffcc00
  );
}

/* ================= SEARCH ================= */
.search{
  padding:14px;
}

.search input{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:none;
  outline:none;
  background:var(--card-bg);
  color:var(--text);
  box-shadow:var(--shadow);
}

/* ================= LAYOUT ================= */
.container{
  display:grid;
  grid-template-columns:280px 1fr 360px;
  gap:18px;
  padding:18px;
}

/* ================= CARD ================= */
.card{
  background:var(--card-bg);
  border-radius:18px;
  padding:14px;
  border:1px solid var(--border);
  box-shadow:var(--shadow);
}

/* ================= SUBJECTS ================= */
.folder-title{
  padding:12px;
  border-radius:12px;
  background:var(--inner-bg);
  font-weight:600;
  cursor:pointer;
}

.subject{
  margin-top:6px;
  padding:10px;
  border-radius:10px;
  background:var(--inner-bg);
  cursor:pointer;
}

.subject:hover,
.subject.active{
  background:var(--primary);
  color:#fff;
}

/* ================= VIDEO ================= */
#videoPlayer{
  margin-top:10px;
  background:var(--inner-bg);
  border-radius:14px;
  overflow:hidden;
  position:relative;
}

.video-container {
  position:relative;
  width:100%;
  padding-top:56.25%; /* 16:9 Aspect Ratio */
  background:black;
  border-radius:12px;
  overflow:hidden;
}

.video-iframe {
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  border:none;
}

/* Video Watermark */
.video-watermark {
  position:absolute;
  top:10px;
  right:10px;
  background:rgba(0,0,0,0.7);
  color:#fff;
  padding:5px 12px;
  border-radius:5px;
  font-size:12px;
  z-index:1000;
  pointer-events:none;
  font-weight:600;
}

.playlist-item{
  margin-top:6px;
  padding:10px;
  border-radius:10px;
  background:var(--inner-bg);
  cursor:pointer;
}

.playlist-item:hover,
.playlist-item.active{
  background:var(--primary);
  color:#fff;
}

/* ================= PDF ================= */
.pdf-item{
  margin-bottom:6px;
  padding:10px;
  border-radius:10px;
  background:var(--inner-bg);
  cursor:pointer;
}

.pdf-item:hover,
.pdf-item.active{
  background:var(--primary);
  color:#fff;
}

/* PDF Fullscreen Modal */
.pdf-modal {
  display:none;
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.95);
  z-index:9999;
}

.pdf-modal.active {
  display:flex;
  flex-direction:column;
}

.pdf-modal-header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:15px 20px;
  background:var(--card-bg);
  border-bottom:1px solid var(--border);
}

.pdf-modal-title {
  font-size:16px;
  font-weight:600;
  color:var(--text);
}

.pdf-close-btn {
  cursor:pointer;
  padding:8px 16px;
  background:var(--primary);
  color:#fff;
  border:none;
  border-radius:8px;
  font-weight:600;
}

.pdf-modal-content {
  flex:1;
  position:relative;
}

.pdf-modal-iframe {
  width:100%;
  height:100%;
  border:none;
}

/* ================= RESPONSIVE ================= */
@media(max-width:900px){
  .container{
    grid-template-columns:1fr;
  }
  
  .title-box h1{
    font-size:32px;
  }
  
  .video-container {
    padding-top:56.25%;
  }
}

@media(max-width:600px){
  .title-box h1{
    font-size:24px;
  }
  
  .container{
    padding:10px;
    gap:10px;
  }
}

/* ================= FULLSCREEN SUPPORT ================= */
.fullscreen-video {
  position:fixed !important;
  top:0 !important;
  left:0 !important;
  width:100% !important;
  height:100% !important;
  z-index:9999 !important;
  padding-top:0 !important;
}

.fullscreen-video .video-iframe {
  border-radius:0 !important;
}
</style>
</head>

<body class="light">

<header class="main-header">
  <div class="title-box">
    <h1>Engineers Babu</h1>
    <span>HTML VIEWER</span>
  </div>
  <div class="toggle" onclick="toggleTheme()">üåô / ‚òÄÔ∏è</div>
</header>

<div class="gradient-bar"></div>

<div class="search">
  <input type="text" placeholder="Search subject..." onkeyup="filterSubjects(this.value)">
</div>

<div class="container">

  <!-- LEFT -->
  <div class="card" id="subjects"></div>

  <!-- CENTER -->
  <div class="card" id="videoSection">
    <h3>üé¨ Video Player</h3>
    <div id="videoPlayer"></div>
    <div id="playlist"></div>
  </div>

  <!-- RIGHT -->
  <div class="card">
    <h3>üìÑ PDF Files</h3>
    <div id="pdfList"></div>
  </div>

</div>

<!-- PDF Fullscreen Modal -->
<div class="pdf-modal" id="pdfModal">
  <div class="pdf-modal-header">
    <div class="pdf-modal-title" id="pdfModalTitle">PDF Viewer</div>
    <button class="pdf-close-btn" onclick="closePdfModal()">‚úï Close</button>
  </div>
  <div class="pdf-modal-content">
    <a href="https://site.com/file.pdf" target="_blank">
  Open PDF</a>
  </div>
</div>

<script>
/* ================= DISABLE RIGHT CLICK ================= */
document.addEventListener('contextmenu', function(e) {
  e.preventDefault();
  return false;
});

/* Disable F12, Ctrl+Shift+I, Ctrl+Shift+J, Ctrl+U */
document.addEventListener('keydown', function(e) {
  if (e.keyCode == 123 || // F12
      (e.ctrlKey && e.shiftKey && e.keyCode == 73) || // Ctrl+Shift+I
      (e.ctrlKey && e.shiftKey && e.keyCode == 74) || // Ctrl+Shift+J
      (e.ctrlKey && e.keyCode == 85)) { // Ctrl+U
    e.preventDefault();
    return false;
  }
});

/* ================= THEME TOGGLE ================= */
function toggleTheme(){
  document.body.classList.toggle("light");
}

/* ================= DATA ================= */
const data = [
  {
    "folder": "General",
    "subjects": [
      {
        "name": "General",
        "videos": [
          {
            "title": "Lect.-1 EVS Introduction",
            "src": "https://example.com/video1.mp4",
            "drm": false
          },
          {
            "title": "Lect.-2 EVS Advanced",
            "src": "https://engineers-babu.onrender.com/?url=https%3A//media-cdn.classplusapp.com/video/master.m3u8",
            "drm": true
          },
          {
            "title": "Lect.-1 Calculus Basics",
            "src": "https://example.com/calculus.mp4",
            "drm": false
          }
        ],
        "pdfs": [
          {
            "name": "Lect.-1 EVS Notes",
            "src": "https://example.com/notes.pdf"
          },
          {
            "name": "Worksheet-1 Problems",
            "src": "https://example.com/worksheet.pdf"
          }
        ]
      }
    ]
  }
];
const userWatermark = "Test User (ID: 123456789)";

/* ================= SCREEN ORIENTATION ================= */
function lockOrientation() {
  if (screen.orientation && screen.orientation.lock) {
    screen.orientation.lock('landscape').catch(err => {
      console.log('Orientation lock not supported');
    });
  }
}

/* ================= PDF MODAL ================= */
function openPdfModal(pdfUrl, pdfName) {
  const modal = document.getElementById('pdfModal');
  const iframe = document.getElementById('pdfModalViewer');
  const title = document.getElementById('pdfModalTitle');
  
  title.textContent = pdfName;
  iframe.src = pdfUrl;
  modal.classList.add('active');
  
  // Lock orientation on mobile
  lockOrientation();
}

function closePdfModal() {
  const modal = document.getElementById('pdfModal');
  const iframe = document.getElementById('pdfModalViewer');
  
  iframe.src = '';
  modal.classList.remove('active');
}

/* Close modal on escape key */
document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') {
    closePdfModal();
  }
});

/* ================= LOGIC ================= */
function renderSubjects(){
  let html="";
  data.forEach(f=>{
    html+=`
      <div class="folder-title"
        onclick="this.nextElementSibling.style.display =
        this.nextElementSibling.style.display==='block'?'none':'block'">
        üìÅ ${f.folder}
      </div>
      <div style="display:none;padding-left:6px;">
    `;
    f.subjects.forEach(s=>{
      html+=`<div class="subject" onclick='loadSubject(${JSON.stringify(s)},this)'>${s.name}</div>`;
    });
    html+=`</div>`;
  });
  subjects.innerHTML=html;
}

function loadSubject(sub,el){
  document.querySelectorAll(".subject").forEach(x=>x.classList.remove("active"));
  el.classList.add("active");
  
  if(sub.videos && sub.videos.length > 0){
    playVideo(sub.videos[0]);
    renderPlaylist(sub.videos);
    
    // Scroll to video section
    document.getElementById('videoSection').scrollIntoView({ behavior: 'smooth', block: 'start' });
  } else {
    videoPlayer.innerHTML="<p style='padding:20px;text-align:center;color:var(--muted)'>No videos available</p>";
    playlist.innerHTML="";
  }
  
  if(sub.pdfs && sub.pdfs.length > 0){
    renderPdf(sub.pdfs);
  } else {
    pdfList.innerHTML="<p style='padding:10px;text-align:center;color:var(--muted)'>No PDFs available</p>";
  }
}

function playVideo(v){
  videoPlayer.innerHTML="";
  
  // Create video container with watermark
  const videoHTML = `
    <div class="video-container" id="videoContainer">
      <div class="video-watermark">${userWatermark}</div>
      <iframe class="video-iframe" 
              id="videoIframe" 
              src="${v.src}" 
              allowfullscreen
              allow="autoplay; encrypted-media; picture-in-picture; fullscreen">
      </iframe>
    </div>
  `;
  
  videoPlayer.innerHTML = videoHTML;
  
  // Scroll to video
  document.getElementById('videoSection').scrollIntoView({ behavior: 'smooth', block: 'start' });
  
  // Lock orientation on mobile
  lockOrientation();
  
  // Handle fullscreen
  const videoContainer = document.getElementById('videoContainer');
  const videoIframe = document.getElementById('videoIframe');
  
  videoIframe.addEventListener('dblclick', function() {
    if (!document.fullscreenElement) {
      videoContainer.requestFullscreen().catch(err => {
        console.log('Fullscreen not supported');
      });
    }
  });
}

function renderPlaylist(vs){
  playlist.innerHTML=vs.map((v, idx)=>
    `<div class="playlist-item" onclick='playVideo(${JSON.stringify(v)});highlightPlaylistItem(this)' data-idx="${idx}">${v.title}</div>`
  ).join("");
}

function highlightPlaylistItem(el){
  document.querySelectorAll(".playlist-item").forEach(x=>x.classList.remove("active"));
  el.classList.add("active");
}

function renderPdf(p){
  pdfList.innerHTML=p.map((x, idx)=>
    `<div class="pdf-item" onclick="openPdfModal('${x.src}', '${x.name.replace(/'/g, "\\'")}');highlightPdfItem(this)" data-idx="${idx}">${x.name}</div>`
  ).join("");
}

function highlightPdfItem(el){
  document.querySelectorAll(".pdf-item").forEach(x=>x.classList.remove("active"));
  el.classList.add("active");
}

function filterSubjects(val){
  document.querySelectorAll(".subject").forEach(s=>{
    s.style.display = s.innerText.toLowerCase().includes(val.toLowerCase())
      ? "block" : "none";
  });
}

/* ================= INITIALIZE ================= */
renderSubjects();

/* Auto-open first folder */
setTimeout(() => {
  const firstFolder = document.querySelector('.folder-title');
  if (firstFolder) {
    firstFolder.click();
  }
}, 500);
  <script>
function openPdf(pdfUrl) {
  window.open(pdfUrl, "_blank");
}
</script>

</script>

</body>
</html>
